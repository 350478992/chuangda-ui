"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue");require("./style/index.css");const v={class:"ivu-modal-header-inner",style:{position:"relative"}},C={key:0,class:"cd-modal-btns"},k=e.defineComponent({name:"CdModal"}),V=e.defineComponent({...k,props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!1},size:{type:String,default:"normal",validator:n=>["small","normal","large"].includes(n)},footerHide:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},okText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},styles:{type:Object,default:()=>({top:"50px"})},className:{type:String,default:""},minHeight:{type:String,default:"250"},maxHeight:{type:String,default:""}},emits:["update:modelValue","on-visible-change","on-ok","on-cancel"],setup(n,{emit:a}){const t=n,d=e.computed({get:()=>t.modelValue,set:()=>a("update:modelValue")}),u=e.useAttrs(),m=e.computed(()=>{const l={normal:"800",small:"520",large:"1200"};return u.width||l[t.size]}),f=e.computed(()=>`min-height:${t.minHeight}px`),p=e.computed(()=>t.maxHeight?`maxheight:${t.maxHeight}px`:""),g=e.computed(()=>({top:"50px",...t.styles})),h=l=>{l&&a("on-visible-change")},c=()=>{a("on-ok",()=>{a("update:modelValue",!1)})},i=()=>{a("update:modelValue",!1),a("on-cancel")},r=e.ref(),y=()=>{if(!t.fullscreen&&!t.maxHeight){const l=document.body.offsetHeight;let o="";l<550?o="250px":l>=550&&l<650?o="400px":o="650px";const s=r.value;s.style.maxHeight=o}};return e.onMounted(()=>{y()}),(l,o)=>{const s=e.resolveComponent("Button"),x=e.resolveComponent("Modal");return e.openBlock(),e.createBlock(x,{class:"cd-modal",ref:"cdModal",modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=b=>d.value=b),title:t.title,closable:t.closable,"mask-closable":t.maskClosable,"footer-hide":t.footerHide,loading:t.loading,scrollable:t.scrollable,fullscreen:t.fullscreen,draggable:t.draggable,"ok-text":t.okText,"cancel-text":t.cancelText,"class-name":t.className,styles:g.value,width:m.value,onOnOk:c,onOnCancel:i,onOnVisibleChange:h},{header:e.withCtx(()=>[e.createElementVNode("div",v,[e.renderSlot(l.$slots,"header",{},()=>[e.createTextVNode(e.toDisplayString(t.title),1)])])]),footer:e.withCtx(()=>[t.footerHide?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",C,[e.renderSlot(l.$slots,"footer",{},()=>[e.createVNode(s,{class:"cd-modal-btns-item",type:"primary",loading:n.loading,onClick:c},{default:e.withCtx(()=>[e.createTextVNode(" 确认 ")]),_:1},8,["loading"]),e.createVNode(s,{class:"cd-modal-btns-item",onClick:i},{default:e.withCtx(()=>[e.createTextVNode("取消")]),_:1})])]))]),default:e.withCtx(()=>[e.createElementVNode("div",{class:"cd-modal-content",ref_key:"cusContentRef",ref:r,style:e.normalizeStyle(`${f.value};${p.value};overflow-y: auto;overflow-x: hidden;`)},[e.renderSlot(l.$slots,"default")],4)]),_:3},8,["modelValue","title","closable","mask-closable","footer-hide","loading","scrollable","fullscreen","draggable","ok-text","cancel-text","class-name","styles","width"])}}});exports.default=V;
