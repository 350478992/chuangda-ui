"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),O=require("../../assets/images/user-img.png.js");require("./style/index.css");const D=require("@/config"),N=require("vue-router"),S=require("./useUserOperas.js"),$={class:"cd-user-opera"},k={href:"javascript:void(0)"},M=e.createElementVNode("img",{class:"avatar",src:O.default},null,-1),B=e.defineComponent({name:"CdUserSetting"}),I=e.defineComponent({...B,setup(j){const l=N.useRouter(),u=e.inject("storeUserInfo"),d=e.inject("loginoutHandle"),p={baseInfo:()=>{console.log("基本信息")},pwdModify:()=>{},themeSwitch:()=>{},version:()=>{},reFreshCache:()=>{},menuStyleSwitch:()=>{},roleChange:()=>{},downLoadPdf:()=>{const o=Date.parse(new Date)/1e3;window.open(`${D.eformBaseUrl}/plugin/BatchPrintSetup.rar?t=${o}`)},downUseGuidePdf:()=>{},useGuidePdfHandel:()=>{},contact:()=>{},logout:()=>{window.$Modal.confirm({title:"温馨提示",content:"你确定要退出登录吗？",onOk:()=>{d().then(o=>{console.log(o),o.isSuccess?(window.$Message.success("已经退出系统"),l.push({name:"login"})):window.$Message.error(o.errorMsg)})}})}},{operasAdd:m,operasDel:f,operasUpdate:_,operasGet:w}=S.default(p),r=e.inject("userOperas")||[];r.length&&m(r);const s=e.inject("hideOperasName")||[];s.length&&f(s);const c=e.inject("updateOperas")||[];c.length&&_(c);const a=w(),h=o=>{const n=a.find(t=>t.name===o);n.func&&n.func()};return(o,n)=>{const t=e.resolveComponent("Icon"),g=e.resolveComponent("DropdownItem"),C=e.resolveComponent("DropdownMenu"),v=e.resolveComponent("Dropdown");return e.openBlock(),e.createElementBlock("div",$,[e.createVNode(v,{class:"cd-user-opera-dropdown",transfer:"",onOnClick:h},{list:e.withCtx(()=>[e.createVNode(C,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),i=>(e.openBlock(),e.createBlock(g,{name:i.name},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.label),1)]),_:2},1032,["name"]))),256))]),_:1})]),default:e.withCtx(()=>[e.createElementVNode("a",k,[M,e.createTextVNode(" "+e.toDisplayString(e.unref(u).userName)+" ",1),e.createVNode(t,{type:"ios-arrow-down"})])]),_:1})])}}});exports.default=I;
