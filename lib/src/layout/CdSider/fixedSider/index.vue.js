"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue");require("./style/index.css");const f=require("../common/SiderItem.vue.js"),m=require("vue-router"),v={class:"inside-menu-item"},h=e.defineComponent({name:"CdFixedSider"}),S=e.defineComponent({...h,setup(k){const o=m.useRoute(),r=m.useRouter(),d=e.inject("appStore").asyncMenus||[],u=e.ref(o.name),p=t=>{r.push({name:t})},a=e.ref(["_home"]),c=e.ref(),s=t=>{const l=t.matched.filter(n=>n.name!==t.name);a.value=l.map(n=>n.name),e.nextTick(()=>{c.value.updateOpened()})};return e.watch(()=>r.currentRoute.value,t=>{u.value=t.name,s(t)}),e.onBeforeMount(()=>{s(o)}),(t,l)=>{const n=e.resolveComponent("Menu"),_=e.resolveComponent("Sider");return e.openBlock(),e.createBlock(_,{class:"cd-layout-sider","hide-trigger":""},{default:e.withCtx(()=>[e.createVNode(n,{ref_key:"menuRef",ref:c,"active-name":u.value,"open-names":a.value,accordion:!0,width:"200px",onOnSelect:p},{default:e.withCtx(()=>[e.createElementVNode("div",v,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(d),i=>(e.openBlock(),e.createBlock(f.default,{key:`menu-${i.name}`,menu:i},null,8,["menu"]))),128))])]),_:1},8,["active-name","open-names"])]),_:1})}}});exports.default=S;
