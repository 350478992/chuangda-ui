"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue");require("./style/index.css");const y={class:"cd-login-form"},k={class:"cd-login-form-cont"},x={class:"cd-login-form-cont-top"},E=["src"],b={class:"ttl"},B={class:"cd-login-form-cont-main"},T={class:"cd-verify-code"},$=["src"],S={class:"cd-password-remenber"},F={key:0,href:"javascript:void(0);"},U={class:"tip"},I=e.createElementVNode("div",{class:"cd-login-form-tip"},"推荐使用chrome浏览器和1920*1080分辨率",-1),q=e.defineComponent({name:"CdLoginForm"}),M=e.defineComponent({...q,props:{logo:String,systemTitle:String,isNeedValidateCode:Boolean,showForgetPwdBtn:Boolean},emits:["on-login-submit"],setup(v,{expose:_,emit:V}){const a=v,o=e.ref({username:"1",password:"",validateCode:"",remenber:"",randomNum:""}),g={username:{required:!0,message:"请输入账号"},password:{required:!0,message:"请输入密码"},validateCode:{required:!0,message:"请输入验证码"}},C=e.computed(()=>{const t=new Date().getTime();return o.value.randomNum=`${t}${Math.random()*1e5}`,`${window.$baseRequestUrl}/servlet/validateCodeServlet?${t}&randomNum=${o.value.randomNum}`}),f=()=>{o.value.randomNum=`${new Date().getTime()}${Math.random()*1e5}`},m=e.ref(),i=e.ref(!1),c=()=>{d(!0),m.value.validate(t=>{t?V("on-login-submit",o.value):d(!1)})},d=t=>{i.value=t},u=e.ref("");return _({onLoadingUpdate:d,onErrorTipUpdate:t=>{u.value=t}}),(t,n)=>{const p=e.resolveComponent("Icon"),s=e.resolveComponent("Input"),r=e.resolveComponent("FormItem"),N=e.resolveComponent("Checkbox"),h=e.resolveComponent("Button"),w=e.resolveComponent("Form");return e.openBlock(),e.createElementBlock("div",y,[e.createElementVNode("div",k,[e.createElementVNode("div",x,[e.createElementVNode("img",{class:"logo",src:a.logo},null,8,E),e.createElementVNode("p",b,e.toDisplayString(a.systemTitle),1),e.renderSlot(t.$slots,"subTtl")]),e.createElementVNode("div",B,[e.renderSlot(t.$slots,"contMain",{form:o.value},()=>[e.createVNode(w,{ref_key:"loginForm",ref:m,model:o.value,rules:g,onKeydown:e.withKeys(c,["enter","native"])},{default:e.withCtx(()=>[e.createVNode(r,{prop:"username"},{default:e.withCtx(()=>[e.createVNode(s,{modelValue:o.value.username,"onUpdate:modelValue":n[0]||(n[0]=l=>o.value.username=l),placeholder:"请输入用户名"},{prepend:e.withCtx(()=>[e.createVNode(p,{size:16,type:"ios-person"})]),_:1},8,["modelValue"])]),_:1}),e.createVNode(r,{prop:"password"},{default:e.withCtx(()=>[e.createVNode(s,{type:"password",modelValue:o.value.password,"onUpdate:modelValue":n[1]||(n[1]=l=>o.value.password=l),placeholder:"请输入密码"},{prepend:e.withCtx(()=>[e.createVNode(p,{size:14,type:"md-lock"})]),_:1},8,["modelValue"])]),_:1}),a.isNeedValidateCode?(e.openBlock(),e.createBlock(r,{key:0,prop:"validateCode"},{default:e.withCtx(()=>[e.createElementVNode("div",T,[e.createVNode(s,{modelValue:o.value.validateCode,"onUpdate:modelValue":n[2]||(n[2]=l=>o.value.validateCode=l),placeholder:"请输入验证码"},null,8,["modelValue"]),e.createElementVNode("img",{class:"passcode",src:C.value,onClick:f},null,8,$)])]),_:1})):e.createCommentVNode("",!0),e.createVNode(r,null,{default:e.withCtx(()=>[e.createElementVNode("div",S,[e.createVNode(N,{modelValue:o.value.remenber,"onUpdate:modelValue":n[3]||(n[3]=l=>o.value.remenber=l)},{default:e.withCtx(()=>[e.createTextVNode("记住登录名")]),_:1},8,["modelValue"]),a.showForgetPwdBtn?(e.openBlock(),e.createElementBlock("a",F," 忘记密码？ ")):e.createCommentVNode("",!0)])]),_:1}),e.createVNode(r,null,{default:e.withCtx(()=>[e.createVNode(h,{type:"primary",long:"",loading:i.value,onClick:c},{default:e.withCtx(()=>[e.createTextVNode(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","onKeydown"])]),e.createElementVNode("p",U,e.toDisplayString(u.value),1)])]),I,e.renderSlot(t.$slots,"extraCont")])}}});exports.default=M;
