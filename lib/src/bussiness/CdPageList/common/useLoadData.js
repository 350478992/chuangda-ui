"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const y=require("@/api/system"),s=require("@/util/baseTool");function N(l,a,d,n){return()=>{a.loading=!0,y.api_getTableList(l.url,d.value).then(o=>{var u;const{isSuccess:c,errorMsg:f,errmsg:g,data:i}=o;if(c){let t=[],e=null;if(i.list?(e=i,t=Object.assign([],e.list)):(e=s.isNotEmpty(i.data)?i.data:i,Object.prototype.toString.call(i.data).includes("Array")&&(t=Object.assign([],i.data))),a.equNum=(u=e==null?void 0:e.list)!=null&&u.length?e.list[0].extparaa:0,n("on-afater-load",e),s.isNotEmpty(t))for(let r=0;r<t.length;r++){let m=r+(a.pageNum-1)*a.currentPageSize+1;t[r].index=m,l.idName!=="id"&&(t[r].id=t[r][l.idName])}a.count=(e==null?void 0:e.count)||0,a.count===0&&(t.noDataText="没有找到符合条件的数据"),a.tableData=t,a.loading=!1}else window.$Message.error(f||g)})}}exports.default=N;
