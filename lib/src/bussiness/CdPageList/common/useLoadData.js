"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const y=require("@/api/system"),s=require("@/util/baseTool");function N(l,t,d,n){return()=>{t.loading=!0,y.api_getTableList(l.url,d.value).then(o=>{var u;const{isSuccess:c,errorMsg:f,errmsg:g,data:i}=o;if(c){let a=[],e=null;if(i.list?(e=i,a=Object.assign([],e.list)):(e=s.isNotEmpty(i.data)?i.data:i,Object.prototype.toString.call(i.data).includes("Array")&&(a=Object.assign([],i.data))),t.equNum=(u=e==null?void 0:e.list)!=null&&u.length?e.list[0].extparaa:0,n("on-afater-load",e),s.isNotEmpty(a))for(let r=0;r<a.length;r++){let m=r+(t.pageNum-1)*t.currentPageSize+1;a[r].index=m,l.idName!=="id"&&(a[r].id=a[r][l.idName])}t.count=(e==null?void 0:e.count)||0,t.count===0&&(t.noDataText="没有找到符合条件的数据"),t.tableData=a,t.loading=!1}else window.$Message.error(f||g)})}}exports.default=N;
