"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("vue");function S(u,i){const a=c.computed(()=>{var e;return i.allSortable||((e=u.table)==null?void 0:e.allSortable)}),n=(e,t)=>{e.width&&(e.width=e.width?+e.width+t:"")};return{sortSet:e=>{a.value?e.title!=="序号"&&e.title!=="操作"&&e.title!=="选中"&&(e.sortable="custom",n(e,10)):i.sortAbleCols.includes(e.key)&&(e.sortable="custom",n(e,10))},webSortHandle:(e,t)=>{const d=t.tableData.sort((o,r)=>{const l=o[e.key]||"",s=r[e.key]||"";return e.order==="desc"?s.localeCompare(l,"zh"):e.order==="asc"?l.localeCompare(s,"zh"):void 0});t.tableData=d.map((o,r)=>{const l=r+(t.pageNum-1)*t.currentPageSize+1;return{...o,index:l,ROWNUM_:l}})},remoteSortHandle:(e,t)=>{let d=e.key+" "+e.order;const o=i.orderByColumnFields[e.column.title];if(o){let l=e.column[o];l?d=e.column[o]+" "+e.order:console.warn("表格列配置没有需要的字段: "+l)}const r=i.orderByColumnAlias[e.column.title];r&&(d=r+" "+e.order),t.value.orderBy=d}}}exports.default=S;
